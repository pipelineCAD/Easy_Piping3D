<!DOCTYPE html>
<html>
<head>
  <title>Checkout</title>
 <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
<script type="text/javascript">
  // Включаем Sandbox режим ОБЯЗАТЕЛЬНО
  Paddle.Environment.set('sandbox'); 

  Paddle.Initialize({ 
    token: 'test_4979061abef2ae161cdb4215497' 
  });

  const urlParams = new URLSearchParams(window.location.search);
  const txnId = urlParams.get('_ptxn');

  if (txnId) {
    console.log("Пытаемся открыть транзакцию:", txnId);
    
    Paddle.Checkout.open({
      transactionId: txnId,
      settings: {
        displayMode: 'inline', // Или 'overlay'
        frameTarget: 'checkout-container', // ID дива на странице
        frameInitialHeight: 450
      }
    });
  } else {
    console.error("ID транзакции (_ptxn) не найден в URL");
  }
</script>

<div class="checkout-container"></div>
</head>
<body>
  <h1>Secure Checkout</h1>
</body>
</html>
